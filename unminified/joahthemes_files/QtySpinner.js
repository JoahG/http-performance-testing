!function(t,e,i){function n(i,n){var r=this;this.element=i,this.isProductPage=t("body").hasClass("ProductDetails"),this.dataWrapper=t(i).closest(".qty-wrapper"),this.quantities={minQty:parseInt(r.dataWrapper.data("qty-min")?r.dataWrapper.data("qty-min"):a.minQty,10)||0,maxQty:parseInt(r.dataWrapper.data("qty-max")?r.dataWrapper.data("qty-max"):a.maxQty,10)||0,increment:parseInt(r.dataWrapper.data("qty-inc")?r.dataWrapper.data("qty-inc"):a.increment)||1},this._defaults=t.extend({},a,this.quantities),this.options=t.extend({},this._defaults,n),this.updatePrice=void 0,this.variantController=void 0,null!=e.variantController&&e.variantController.registry.length&&(this.variantController=variantController.registry[0],this.updatePrice=t.proxy(this.variantController.updatePrice,this.variantController)),this.wrapper=null,this.up=null,this.down=null,this.interval=null,this.timeout=null,this.val=parseInt(this.element.value),this.init()}var a={increment:1,delay:250,interval:50,allowNegative:!1,minQty:0,maxQty:!1};n.prototype={init:function(){t(this.element).wrap("<span class='rel in-block qty-spinner no-ul'>"),this.wrapper=t(this.element).parent(),this.wrapper.append("<a class='abs icon-chevron-up'></a><a class='abs icon-chevron-down'></a>").css("margin-right",30),t("a",this.wrapper).css({left:"100%",padding:0,"margin-left":5,"font-size":"17px",cursor:"pointer"}).width(25),this.up=t("a:first",this.wrapper),this.down=t("a:last",this.wrapper),this.up.css("top",0),this.down.css("bottom",0),this.variantController||(this.updatePrice=this.updatePriceFallback),this.bind()},updatePriceFallback:function(){if(this.isProductPage){var e=t("#hfItemID").val(),i=t(this.element).val(),n={itemID:e,quantity:i,variantIDs:[],personalizationIds:[],personalizationStrings:[]};t.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/Store/Controls/ScriptService.asmx/GetPrice",dataType:"json",data:JSON.stringify(n),success:function(e){t(".PriceToUpdate").html(e.d.price)}})}},bind:function(){var e=this;this.up.on("mousedown",function(){e.increment(),e.timeout=setTimeout(function(){e.interval=setInterval(t.proxy(e.increment,e),e.options.interval)},e.options.delay)}).on("mouseup mouseleave",function(){e.updatePrice(),clearTimeout(e.timeout),clearInterval(e.interval)}),this.down.on("mousedown",function(){e.decrement(),e.timeout=setTimeout(function(){e.interval=setInterval(t.proxy(e.decrement,e),e.options.interval)},e.options.delay)}).on("mouseup mouseleave",function(){e.updatePrice(),clearTimeout(e.timeout),clearInterval(e.interval)})},increment:function(){var t=this;this.val=parseInt(t.element.value,10)+this.options.increment,(!this.options.maxQty||this.val<=this.options.maxQty)&&(this.element.value=this.val)},decrement:function(){var t=this;this.val=parseInt(t.element.value,10)-this.options.increment,(this.val>=this.options.minQty||this.options.allowNegative)&&(this.element.value=this.val)}},t.fn.qtySpinner=function(e){return this.each(function(){t.data(this,"plugin_qtySpinner")||t.data(this,"plugin_qtySpinner",new n(this,e))})},t(function(){t(".ShoppingCartQtyTextbox").qtySpinner()})}(jQuery,window,document);