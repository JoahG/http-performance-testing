window.resizehelper={startsWithUrlProtocol:function(e){return new RegExp(/^(https?:)?\/\/.*/).test(e)},getBaseResizerPath:function(e){return e=e.trim(),e.length>0?window.resizehelper.startsWithUrlProtocol(e)||e.lastIndexOf("?")>-1||e.lastIndexOf("&")>-1||new RegExp(/^www\..*/).test(e)?"/resize?po="+encodeURIComponent(e)+"&":("/"!=e[0]&&(e="/"+e),"/resize"+e+"?"):"/resize?"},getExternalImageUrl:function(e,r,t,n){if(e=e.trim(),r=r.trim(),r.length&&e.length){var i=e;return window.resizehelper.startsWithUrlProtocol(r)&&(i=r),i=i.replace(/##PICNAME##/,r),i=i.replace(/##WIDTH##/,t),i=i.replace(/##HEIGHT##/,n)}return""},getExternalImageOptionsFromUrl:function(e,r){var t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new Object;return n.picname=r.replace(new RegExp(t.replace("##WIDTH##",".*").replace("##HEIGHT##",".*").replace("##PICNAME##","(.*?)")),"$1"),n.width=r.replace(new RegExp(t.replace("##WIDTH##","(.*?)").replace("##HEIGHT##",".*").replace("##PICNAME##",".*")),"$1"),n.height=r.replace(new RegExp(t.replace("##WIDTH##",".*").replace("##HEIGHT##","(.*?)").replace("##PICNAME##",".*?")),"$1"),n},getResizeOptions:function(e){var r=new Object;if(r.lr=void 0,r.h=void 0,r.bh=void 0,r.w=void 0,r.bw=void 0,e=e.replace("?"," ").split(" "),e[1]){for(var t=e[1].split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i.length>0){var p=i[0],l=i[1];r.hasOwnProperty(p)&&(r[p]=l)}}return r}},setResizeOptions:function(e,r){var t=e.split("?")[0]+"?",n=new Object,i=[];if(e=e.replace("?"," ").split(" "),e[1])for(var p=e[1].split("&"),l=0;l<p.length;l++){var a=p[l].split("=");if(a.length>0){var s=a[0],o=a[1];r.hasOwnProperty(s)||(n[s]=o)}}for(var a in n)n.hasOwnProperty(a)&&n[a]&&i.push(a+"="+n[a]);for(var a in r)r.hasOwnProperty(a)&&r[a]&&i.push(a+"="+r[a]);return t+i.join("&")},copyResizeOptions:function(e,r){var t=resizehelper.getResizeOptions(r);return resizehelper.setResizeOptions(e,t)}};